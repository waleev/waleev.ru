<!DOCTYPE html>
<html>
  <head>
    <title>Шпаргалка для работы с FTP в PHP – Denis Waleev – Блог PHP-программиста</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Небольшие куски кода для работы с FTP в PHP.

" />
    <meta property="og:description" content="Небольшие куски кода для работы с FTP в PHP.

" />
    
    <meta name="author" content="Denis Waleev" />

    
    <meta property="og:title" content="Шпаргалка для работы с FTP в PHP" />
    <meta property="twitter:title" content="Шпаргалка для работы с FTP в PHP" />
    
    
    
	<meta name="keywords" content="php"/>
	
    <meta name="google-site-verification" content="9Xfqmwk4ltvM6MVPDOROgmdcnc97WyNj29f4l4Fk0io" />
    
    
	  







	



    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Denis Waleev - Блог PHP-программиста" href="/feed.xml" />

  </head>

  <body>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter47159718 = new Ya.Metrika({
                        id:47159718,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor:true,
                        trackHash:true
                    });
                } catch(e) { }
            });

            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/watch.js";

            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/47159718" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="/images/waleev-logo.PNG" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Denis Waleev</a></h1>
            <p class="site-description">Блог PHP-программиста</p>
          </div>

          <nav>
            <a href="/">Блог</a>
            <a href="/about">Об авторе</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Шпаргалка для работы с FTP в PHP</h1>

  <div class="entry">
    <p>Небольшие куски кода для работы с FTP в PHP.</p>

<p>Непосредредственно само подключение.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// установка соединения
</span><span class="nv">$conn_id</span> <span class="o">=</span> <span class="nb">ftp_connect</span><span class="p">(</span><span class="nv">$ftp_server</span><span class="p">);</span>

<span class="c1">// проверка имени пользователя и пароля
</span><span class="nv">$login_result</span> <span class="o">=</span> <span class="nb">ftp_login</span><span class="p">(</span><span class="nv">$conn_id</span><span class="p">,</span> <span class="nv">$ftp_user_name</span><span class="p">,</span> <span class="nv">$ftp_user_pass</span><span class="p">);</span>
</code></pre></div></div>

<p>Получение содержимого директории.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// получить содержимое текущей директории
</span><span class="nv">$contents</span> <span class="o">=</span> <span class="nb">ftp_nlist</span><span class="p">(</span><span class="nv">$conn_id</span><span class="p">,</span> <span class="s2">"."</span><span class="p">);</span>
</code></pre></div></div>

<p>Сменить директорию.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ftp_chdir</span><span class="p">(</span><span class="nv">$conn_id</span><span class="p">,</span> <span class="nv">$dir</span><span class="p">);</span>
</code></pre></div></div>

<p>Вернуться в родительскую директорию.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ftp_cdup</span><span class="p">(</span><span class="nv">$conn_id</span><span class="p">);</span>
</code></pre></div></div>

<p>Вывод имени текущей директории.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// вывод имени текущей директории
</span><span class="k">echo</span> <span class="nb">ftp_pwd</span><span class="p">(</span><span class="nv">$conn_id</span><span class="p">);</span> <span class="c1">// /public_html
</span></code></pre></div></div>

<p>Не забываем закрыть соединение.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// закрытие соединения
</span><span class="nb">ftp_close</span><span class="p">(</span><span class="nv">$conn_id</span><span class="p">);</span>
</code></pre></div></div>

  </div>

  <hr>

  <div class="date">
    Дата публикации: 18.12.2017
  </div>

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com/webdinislam"><i class="svg-icon github"></i></a>



<a href="/feed.xml"><i class="svg-icon rss"></i></a>




<a href="https://vk.com/webdinislam"><i class="svg-icon vk"></i></a>

        </footer>
      </div>
    </div>

    

  </body>
</html>
